import{j as e,W as E,r as C,Y as q,a as y,B as f,y as _}from"./app-CJlbE-LF.js";import{P as k}from"./Page-yreOlTT-.js";import{W as T}from"./Webmaster-DrX7rw6O.js";import{G as j,C as g}from"./CustomTextarea-DZCPOzLv.js";import{C as F}from"./CustomTextInput-rk9wK1ad.js";import{C as w}from"./CustomSelect-BDqCOK27.js";import{C as u}from"./CustomFileInput-CGghE6NF.js";import{h as D}from"./button-Bh2k_5J8.js";import"./createLucideIcon-jxw-JyEv.js";import"./facebook-DXNOz92s.js";import"./save-DB3l4sw9.js";import"./transition-NcVCD9Y2.js";import"./render-BcGX6XVe.js";import"./disabled-BPakW4IL.js";const p=({title:d,name:n,description:s,handleChange:l,old:t})=>e.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:e.jsxs("div",{className:"flex-1 md:w-64 md:mr-10",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"font-medium",children:d})}),s&&e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:s})]}),e.jsx("label",{className:"flex items-center",children:t.map((r,o)=>e.jsxs("div",{children:[e.jsx("input",{checked:!0,type:"checkbox",name:n,value:r,className:"form-control",onChange:l}),e.jsx("span",{className:"ml-2",children:r})]},o))})]})}),J=({auth:d,groups:n,template:s,menu:l})=>{const t=E({name:s.name,description:s.description||"",group_id:s.group.id,photos:[],old_photos:s.photos,audios:[],old_audios:s.audios,videos:[],old_videos:s.videos,message:s.message||""}),[r,o]=C.useState(!1),i=m=>{const{name:a,type:N,value:b,files:x}=m.target;if(N==="file"){if(x){const c=Array.from(x);a==="photos"?t.setData("photos",c):a==="videos"?t.setData("videos",c):a==="audios"&&t.setData("audios",c)}}else t.setData(a,b);console.log(t.data)},v=async m=>{m.preventDefault(),o(!0),t.post(route("templates.update",{template:s.id}),{headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{f.success("Template has been edited successfully"),_.get(route("templates.index"))},onError:a=>{f.error("Error editing the template"),console.error("Error:",a)},onFinish:()=>{o(!1)}})},h=e.jsx(D,{className:"btn btn-primary mt-4",disabled:r,onClick:v,children:r?"Editing":"Edit"});return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Edit a template"}),e.jsx(T,{user:d.user,menu:l,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(y,{href:route("templates.index"),children:"Templates"})}),e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:s.group.name}),e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:s.name}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit"})]}),children:e.jsxs(k,{title:"Edit a template",header:e.jsx(e.Fragment,{}),children:[e.jsxs(j,{title:"Template's information",header:h,children:[e.jsx(F,{title:"Name",value:t.data.name,name:"name",description:"Enter the name of the template",required:!0,handleChange:i,instructions:"Minimum 5 caracters"}),e.jsx(g,{title:"Description",value:t.data.description,name:"description",description:"Enter the description of the template",required:!1,handleChange:i,instructions:"Not required"}),e.jsx(w,{title:"Templates group",elements:n,value:t.data.group_id,name:"group_id",description:"Enter the group you want to assing the template to",required:!0,handleChange:i,instructions:"Required"})]}),e.jsxs(j,{title:"Template's elements",children:[e.jsx(p,{old:t.data.old_photos,title:"Old photos",name:"old_photos[]",description:"Check the old photos you want to keep",handleChange:i}),e.jsx(u,{accept:"image/*",title:"Photos",name:"photos",required:!1,multiple:!0,description:"Enter the photos of the template",instructions:"Not required",handleChange:i}),e.jsx(p,{old:t.data.old_videos,title:"Old videos",name:"old_videos[]",description:"Check the old videos you want to keep",handleChange:i}),e.jsx(u,{accept:"video/*",title:"Videos",name:"videos",required:!1,multiple:!0,description:"Enter the videos of the template",instructions:"Not required",handleChange:i}),e.jsx(p,{old:t.data.old_audios,title:"Old audios",name:"old_audios[]",description:"Check the old audios you want to keep",handleChange:i}),e.jsx(u,{accept:"audio/*",title:"Audios",name:"audios",required:!1,multiple:!0,description:"Enter the audios of the template",instructions:"Not required",handleChange:i}),e.jsx(g,{value:t.data.message,title:"Message",name:"message",description:"Enter the message of the template",required:!1,handleChange:i,instructions:"Not required"}),h]})]})})]})};export{J as default};
