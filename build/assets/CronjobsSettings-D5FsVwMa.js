import{r as c,j as e,B as l}from"./app-iSaceW-w.js";import{d as x}from"./index-BUm8lVTI.js";import{R as g}from"./react-loading-D6mCdm5R.js";import{S as u}from"./save-B3pCxu4h.js";import"./createLucideIcon-DYftpbR_.js";const _=({settings:a})=>{const[t,d]=c.useState(a.scheduler.tokens_validity_check),[r,m]=c.useState(a.scheduler.update_conversations),[n,h]=c.useState(a.scheduler.send_remarketing_messages),[i,o]=c.useState(!1);console.log(t,r,n);const k=async()=>{o(!0),x.Inertia.post(route("settings.save"),{"settings.scheduler.tokens_validity_check":t,"settings.scheduler.update_conversations":r,"settings.scheduler.send_remarketing_messages":n},{onSuccess:()=>{l.success("Settings saved successfully"),o(!1)},onError:s=>{l.error("Failed to save settings",s),o(!1)}})};return e.jsx("div",{className:"grid grid-cols-12 gap-6",children:e.jsxs("div",{className:"intro-y box col-span-12 2xl:col-span-6",children:[e.jsxs("div",{className:"flex items-center px-5 py-5 sm:py-3 border-b border-slate-200/60 dark:border-darkmode-400",children:[e.jsx("h2",{className:"font-medium text-base mr-auto",children:"Cronjobs settings"}),e.jsxs("button",{onClick:k,disabled:i,className:"btn btn-outline-secondary hidden sm:flex",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"})," Save"]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(g,{type:"spin",color:"green",height:18,width:18}),"Â  Saving"]})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",onChange:s=>{d(s.target.checked?1:0)},checked:t==1}),e.jsx("label",{className:"form-check-label",children:"Tokens validity check"})]})}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",onChange:s=>{m(s.target.checked?1:0)},checked:r==1}),e.jsx("label",{className:"form-check-label",children:"Update conversations"})]})}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",onChange:s=>{h(s.target.checked?1:0)},checked:n==1}),e.jsx("label",{className:"form-check-label",children:"Send remarketing messages"})]})})]})]})})};export{_ as default};
