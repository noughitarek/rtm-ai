import{r as l,G as E,t as ee}from"./app-BZaP8igb.js";import{o as T,a as ne,b as _,p as te,n as S,s as B,M as ge,W as J,O as x,m as be,t as Ce,H as re,u as le}from"./render-CjY5aSM3.js";let ie=Symbol();function ze(e,n=!0){return Object.assign(e,{[ie]:n})}function ue(...e){let n=l.useRef(e);l.useEffect(()=>{n.current=e},[e]);let t=T(r=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[ie]))?void 0:t}function Ee(e,n,t){let r=ne(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});l.useEffect(()=>{if(!e)return;let i=n===null?null:n instanceof HTMLElement?n:n.current;if(!i)return;let s=_();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[n,r,e])}function $e(e){let n={called:!1};return(...t)=>{if(!n.called)return n.called=!0,e(...t)}}function Fe(e=0){let[n,t]=l.useState(e),r=l.useCallback(u=>t(u),[n]),i=l.useCallback(u=>t(d=>d|u),[n]),s=l.useCallback(u=>(n&u)===u,[n]),o=l.useCallback(u=>t(d=>d&~u),[t]),g=l.useCallback(u=>t(d=>d^u),[t]);return{flags:n,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:g}}var Te=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Te||{});function ye(e){let n={};for(let t in e)e[t]===!0&&(n[`data-${t}`]="");return n}function Re(e,n,t,r){let[i,s]=l.useState(t),{hasFlag:o,addFlag:g,removeFlag:u}=Fe(e&&i?3:0),d=l.useRef(!1),c=l.useRef(!1),v=te();return S(function b(){var f;if(!e)return;t&&s(!0);let a=n.current;return a?((f=r==null?void 0:r.start)==null||f.call(r,t),xe(a,{inFlight:d,prepare(){c.current?c.current=!1:c.current=d.current,d.current=!0,!c.current&&(t?(g(3),u(4)):(g(4),u(2)))},run(){c.current?t?(u(3),g(4)):(u(4),g(3)):t?u(1):g(1)},done(){var m;c.current&&typeof a.getAnimations=="function"&&a.getAnimations().length>0||(d.current=!1,u(7),t||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,t))}})):t?(g(3),v.nextFrame(()=>b())):void 0},[e,t,n,v]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function xe(e,{prepare:n,run:t,done:r,inFlight:i}){let s=_();return Se(e,{prepare:n,inFlight:i}),s.nextFrame(()=>{s.add(we(e,r)),t()}),s.dispose}function we(e,n){let t=$e(n),r=_();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(e),[o,g]=[i,s].map(d=>{let[c=0]=d.split(",").filter(Boolean).map(v=>v.includes("ms")?parseFloat(v):parseFloat(v)*1e3).sort((v,b)=>b-v);return c}),u=o+g;if(u!==0){let d=r.group(c=>{let v=c.setTimeout(()=>{t(),c.dispose()},u);c.addEventListener(e,"transitionrun",b=>{b.target===b.currentTarget&&(v(),c.addEventListener(e,"transitioncancel",f=>{f.target===f.currentTarget&&(t(),d())}))})});r.addEventListener(e,"transitionend",c=>{c.target===c.currentTarget&&(t(),r.dispose())})}else t();return r.dispose}function Se(e,{inFlight:n,prepare:t}){if(n!=null&&n.current){t();return}let r=e.style.transition;e.style.transition="none",t(),e.offsetHeight,e.style.transition=r}let M=l.createContext(null);M.displayName="OpenClosedContext";var w=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(w||{});function ae(){return l.useContext(M)}function Oe({value:e,children:n}){return E.createElement(M.Provider,{value:e},n)}function Ve({children:e}){return E.createElement(M.Provider,{value:null},e)}function Pe(){let e=typeof document>"u";return"useSyncExternalStore"in ee?(n=>n.useSyncExternalStore)(ee)(()=>()=>{},()=>!1,()=>!e):!1}function se(){let e=Pe(),[n,t]=l.useState(B.isHandoffComplete);return n&&B.isHandoffComplete===!1&&t(!1),l.useEffect(()=>{n!==!0&&t(!0)},[n]),l.useEffect(()=>B.handoff(),[]),e?!1:n}function Le(){let e=l.useRef(!1);return S(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function oe(e){var n;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((n=e.as)!=null?n:de)!==l.Fragment||E.Children.count(e.children)===1}let k=l.createContext(null);k.displayName="TransitionContext";var He=(e=>(e.Visible="visible",e.Hidden="hidden",e))(He||{});function Ne(){let e=l.useContext(k);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ae(){let e=l.useContext(I);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let I=l.createContext(null);I.displayName="NestingContext";function D(e){return"children"in e?D(e.children):e.current.filter(({el:n})=>n.current!==null).filter(({state:n})=>n==="visible").length>0}function ce(e,n){let t=ne(e),r=l.useRef([]),i=Le(),s=te(),o=T((f,a=x.Hidden)=>{let m=r.current.findIndex(({el:p})=>p===f);m!==-1&&(le(a,{[x.Unmount](){r.current.splice(m,1)},[x.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var p;!D(r)&&i.current&&((p=t.current)==null||p.call(t))}))}),g=T(f=>{let a=r.current.find(({el:m})=>m===f);return a?a.state!=="visible"&&(a.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,x.Unmount)}),u=l.useRef([]),d=l.useRef(Promise.resolve()),c=l.useRef({enter:[],leave:[]}),v=T((f,a,m)=>{u.current.splice(0),n&&(n.chains.current[a]=n.chains.current[a].filter(([p])=>p!==f)),n==null||n.chains.current[a].push([f,new Promise(p=>{u.current.push(p)})]),n==null||n.chains.current[a].push([f,new Promise(p=>{Promise.all(c.current[a].map(([h,$])=>$)).then(()=>p())})]),a==="enter"?d.current=d.current.then(()=>n==null?void 0:n.wait.current).then(()=>m(a)):m(a)}),b=T((f,a,m)=>{Promise.all(c.current[a].splice(0).map(([p,h])=>h)).then(()=>{var p;(p=u.current.shift())==null||p()}).then(()=>m(a))});return l.useMemo(()=>({children:r,register:g,unregister:o,onStart:v,onStop:b,wait:d,chains:c}),[g,o,r,v,b,c,d])}let de=l.Fragment,fe=ge.RenderStrategy;function Me(e,n){var t,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:g,afterLeave:u,enter:d,enterFrom:c,enterTo:v,entered:b,leave:f,leaveFrom:a,leaveTo:m,...p}=e,h=l.useRef(null),$=oe(e),U=ue(...$?[h,n]:n===null?[]:[n]),y=(t=p.unmount)==null||t?x.Unmount:x.Hidden,{show:F,appear:K,initial:Q}=Ne(),[R,j]=l.useState(F?"visible":"hidden"),W=Ae(),{register:L,unregister:H}=W;S(()=>L(h),[L,h]),S(()=>{if(y===x.Hidden&&h.current){if(F&&R!=="visible"){j("visible");return}return le(R,{hidden:()=>H(h),visible:()=>L(h)})}},[R,h,L,H,F,y]);let z=se();S(()=>{if($&&z&&R==="visible"&&h.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[h,R,z,$]);let me=Q&&!K,Y=K&&F&&Q,V=l.useRef(!1),N=ce(()=>{V.current||(j("hidden"),H(h))},W),Z=T(X=>{V.current=!0;let A=X?"enter":"leave";N.onStart(h,A,P=>{P==="enter"?s==null||s():P==="leave"&&(g==null||g())})}),q=T(X=>{let A=X?"enter":"leave";V.current=!1,N.onStop(h,A,P=>{P==="enter"?o==null||o():P==="leave"&&(u==null||u())}),A==="leave"&&!D(N)&&(j("hidden"),H(h))});l.useEffect(()=>{$&&i||(Z(F),q(F))},[F,$,i]);let pe=!(!i||!$||!z||me),[,C]=Re(pe,h,F,{start:Z,end:q}),he=be({ref:U,className:((r=Ce(p.className,Y&&d,Y&&c,C.enter&&d,C.enter&&C.closed&&c,C.enter&&!C.closed&&v,C.leave&&f,C.leave&&!C.closed&&a,C.leave&&C.closed&&m,!C.transition&&F&&b))==null?void 0:r.trim())||void 0,...ye(C)}),O=0;return R==="visible"&&(O|=w.Open),R==="hidden"&&(O|=w.Closed),C.enter&&(O|=w.Opening),C.leave&&(O|=w.Closing),E.createElement(I.Provider,{value:N},E.createElement(Oe,{value:O},re({ourProps:he,theirProps:p,defaultTag:de,features:fe,visible:R==="visible",name:"Transition.Child"})))}function ke(e,n){let{show:t,appear:r=!1,unmount:i=!0,...s}=e,o=l.useRef(null),g=oe(e),u=ue(...g?[o,n]:n===null?[]:[n]);se();let d=ae();if(t===void 0&&d!==null&&(t=(d&w.Open)===w.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,v]=l.useState(t?"visible":"hidden"),b=ce(()=>{t||v("hidden")}),[f,a]=l.useState(!0),m=l.useRef([t]);S(()=>{f!==!1&&m.current[m.current.length-1]!==t&&(m.current.push(t),a(!1))},[m,t]);let p=l.useMemo(()=>({show:t,appear:r,initial:f}),[t,r,f]);Ee(t,o,()=>v("hidden")),S(()=>{t?v("visible"):!D(b)&&o.current!==null&&v("hidden")},[t,b]);let h={unmount:i},$=T(()=>{var y;f&&a(!1),(y=e.beforeEnter)==null||y.call(e)}),U=T(()=>{var y;f&&a(!1),(y=e.beforeLeave)==null||y.call(e)});return E.createElement(I.Provider,{value:b},E.createElement(k.Provider,{value:p},re({ourProps:{...h,as:l.Fragment,children:E.createElement(ve,{ref:u,...h,...s,beforeEnter:$,beforeLeave:U})},theirProps:{},defaultTag:l.Fragment,features:fe,visible:c==="visible",name:"Transition"})))}function Ie(e,n){let t=l.useContext(k)!==null,r=ae()!==null;return E.createElement(E.Fragment,null,!t&&r?E.createElement(G,{ref:n,...e}):E.createElement(ve,{ref:n,...e}))}let G=J(ke),ve=J(Me),De=J(Ie),Xe=Object.assign(G,{Child:De,Root:G});export{De as I,ze as T,Xe as X,Le as f,w as i,se as l,Ee as m,Ve as s,ae as u,ue as y};
