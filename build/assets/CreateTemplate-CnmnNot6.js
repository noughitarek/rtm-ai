import{W as v,r as q,j as e,Y as b,a as E,B as p,y}from"./app-BZaP8igb.js";import{P as N}from"./Page-B7rOs1bA.js";import{W as T}from"./Webmaster-BUl9QxyE.js";import{G as d,C as c}from"./CustomTextarea-QOpTBooz.js";import{C as F}from"./CustomTextInput-aQNAAVXo.js";import{C as D}from"./CustomSelect-BxPqoS9G.js";import{C as o}from"./CustomFileInput-Btdhjz65.js";import{h as S}from"./button-0Q3PtDyF.js";import"./createLucideIcon-Cq0hGgVH.js";import"./facebook-DB-PgeEZ.js";import"./save-B5a0FQCR.js";import"./transition-D3VRR6fF.js";import"./render-CjY5aSM3.js";import"./disabled-BPg7AI8o.js";const H=({auth:h,groups:f,menu:x})=>{const t=v({name:"",description:"",group_id:0,photos:[],videos:[],audios:[],message:""}),[n,m]=q.useState(!1),r=a=>{const{name:s,type:j,value:C,files:u}=a.target;if(j==="file"){if(u){const i=Array.from(u);s==="photos"?t.setData("photos",i):s==="videos"?t.setData("videos",i):s==="audios"&&t.setData("audios",i),console.log(t.data)}}else t.setData(s,C)},g=async a=>{a.preventDefault(),m(!0),t.post(route("templates.store"),{forceFormData:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{p.success("Template has been created successfully"),y.get(route("templates.index"))},onError:s=>{p.error("Error creating the template"),console.error("Error:",s)},onFinish:()=>{m(!1)}})},l=e.jsx(S,{className:"btn btn-primary mt-4",disabled:n,onClick:g,children:n?"Creating":"Create"});return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Create a template"}),e.jsx(T,{user:h.user,menu:x,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(E,{href:route("templates.index"),children:"Templates"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create"})]}),children:e.jsxs(N,{title:"Create a template",header:e.jsx(e.Fragment,{}),children:[e.jsxs(d,{title:"Template's information",header:l,children:[e.jsx(F,{title:"Name",value:t.data.name,name:"name",description:"Enter the name of the template",required:!0,handleChange:r,instructions:"Minimum 5 caracters"}),e.jsx(c,{title:"Description",value:t.data.description,name:"description",description:"Enter the description of the template",required:!1,handleChange:r,instructions:"Not required"}),e.jsx(D,{title:"Templates group",elements:f,value:t.data.group_id,name:"group_id",description:"Enter the group you want to assing the template to",required:!0,handleChange:r,instructions:"Required"})]}),e.jsxs(d,{title:"Template's elements",children:[e.jsx(o,{accept:"image/*",title:"Photos",name:"photos",required:!1,multiple:!0,description:"Enter the photos of the template",instructions:"Not required",handleChange:r}),e.jsx(o,{accept:"video/*",title:"Videos",name:"videos",required:!1,multiple:!0,description:"Enter the videos of the template",instructions:"Not required",handleChange:r}),e.jsx(o,{accept:"audio/*",title:"Audios",name:"audios",required:!1,multiple:!0,description:"Enter the audios of the template",instructions:"Not required",handleChange:r}),e.jsx(c,{value:t.data.message,title:"Message",name:"message",description:"Enter the message of the template",required:!1,handleChange:r,instructions:"Not required"}),l]})]})})]})};export{H as default};
