import{r as s,j as e,B as r}from"./app-iSaceW-w.js";import{C as p}from"./CustomTextInput-CSUVomlM.js";import{d as g}from"./index-BUm8lVTI.js";import{R as h}from"./react-loading-D6mCdm5R.js";import{C as x}from"./CustomNumber-s5lp3udN.js";import{S as y}from"./save-B3pCxu4h.js";import"./createLucideIcon-DYftpbR_.js";const k=({settings:i})=>{const[l,b]=s.useState(i.id),[d,f]=s.useState(i.title),[m,j]=s.useState(i.minimum_pourcentage),[c,v]=s.useState(i.max_per_minute),[a,n]=s.useState(!1),[o,u]=s.useState(!1),S=async()=>{n(!0),g.Inertia.post(route("settings.save"),{"settings.id":l,"settings.title":d,"settings.minimum_pourcentage":m,"settings.max_per_minute":c},{onSuccess:()=>{r.success("Settings saved successfully"),n(!1)},onError:t=>{r.error("Failed to save settings",t),n(!1)}})},_=async()=>{u(!0),g.Inertia.get(route("refrech.rates"),{},{onSuccess:()=>{r.success("Rates updated successfully"),u(!1)},onError:t=>{r.error("Failed updating rates",t),u(!1)}})};return e.jsx("div",{className:"grid grid-cols-12 gap-6",children:e.jsxs("div",{className:"intro-y box col-span-12 2xl:col-span-6",children:[e.jsxs("div",{className:"flex items-center px-5 py-5 sm:py-3 border-b border-slate-200/60 dark:border-darkmode-400",children:[e.jsx("h2",{className:"font-medium text-base mr-auto",children:"General settings"}),e.jsxs("button",{onClick:S,disabled:a,className:"btn btn-outline-secondary hidden sm:flex",children:[!a&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," Save"]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"spin",color:"green",height:18,width:18}),"  Saving"]})]})," ",e.jsxs("button",{className:"btn btn-primary",disabled:o,onClick:_,children:[!o&&e.jsx(e.Fragment,{children:" Update rates"}),o&&e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"spin",color:"green",height:18,width:18}),"  Updating"]})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx(p,{title:"Id",description:"An id for this website",instructions:"required",name:"settings.id",value:l,handleChange:t=>b(t.target.value),required:!0}),e.jsx(p,{title:"Title",description:"A title for this website",instructions:"required",name:"settings.title",value:d,handleChange:t=>f(t.target.value),required:!0}),e.jsx(x,{title:"Minimum pourcentage",description:"A title for this website",instructions:"required",name:"settings.minimum_pourcentage",value:Number(m),handleChange:t=>j(t.target.value),required:!0}),e.jsx(x,{title:"Max messages per minute",description:"A title for this website",instructions:"required",name:"settings.max_per_minute",value:Number(c),handleChange:t=>v(t.target.value),required:!0})]})]})})};export{k as default};
